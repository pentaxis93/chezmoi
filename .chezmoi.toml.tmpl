{{- /* Machine detection */ -}}
{{- $hostname := .chezmoi.hostname -}}

{{- /* Essential prompts - required by templates */ -}}
{{- $name := promptStringOnce . "name" "Your name (for git)" -}}
{{- $email := promptStringOnce . "email" "Your email (for git)" -}}
{{- $editor := promptStringOnce . "editor" "Your preferred editor" "helix" -}}
{{- $isLaptop := promptBoolOnce . "is_laptop" "Is this a laptop (for battery widgets)" -}}

{{- /* Optional but useful */ -}}
{{- $aurHelper := promptStringOnce . "aur_helper" "AUR helper (yay/paru)" "yay" -}}
{{- $displayServer := promptStringOnce . "display_server" "Display server (wayland/x11)" "wayland" -}}
{{- $compositor := promptStringOnce . "compositor" "Window manager/compositor" "niri" -}}

[data]
    # Machine identity
    hostname = {{ $hostname | quote }}

    # User identity
    name = {{ $name | quote }}
    email = {{ $email | quote }}

    # System capabilities
    is_laptop = {{ $isLaptop }}

    # Package management
    aur_helper = {{ $aurHelper | quote }}

    # Display server
    display_server = {{ $displayServer | quote }}
    compositor = {{ $compositor | quote }}

    # Editor preference
    editor = {{ $editor | quote }}