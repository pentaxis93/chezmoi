{{- /* Pause all or specific torrents */ -}}
function tpause --description "Pause torrents (all or by ID)"
    if not systemctl --user is-active --quiet transmission-daemon
        echo "⚠ Transmission daemon not running"
        return 1
    end

    if test (count $argv) -eq 0
        # Pause all torrents
        transmission-remote {{ .transmission.rpc_host }}:{{ .transmission.rpc_port }} -n (transmission-auth) -t all --stop

        set_color green
        echo "✓ All torrents paused"
        set_color normal
    else
        # Pause specific torrent(s)
        for id in $argv
            transmission-remote {{ .transmission.rpc_host }}:{{ .transmission.rpc_port }} -n (transmission-auth) -t $id --stop
        end

        set_color green
        echo "✓ Paused torrent(s): $argv"
        set_color normal
    end
end