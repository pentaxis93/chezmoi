{{- /* WeeChat status function */ -}}
function wcs --description "Show WeeChat and IRC status (weechat-status)"
    # Ultra-Zen: Monitor your IRC presence and activity

    # Check if WeeChat is running
    if pgrep -x weechat >/dev/null
        echo "✓ WeeChat is running"

        # Show process info
        set -l pid (pgrep -x weechat)
        set -l mem (ps -o rss= -p $pid | awk '{print $1/1024 "MB"}')
        echo "  PID: $pid"
        echo "  Memory: $mem"
    else
        echo "✗ WeeChat is not running"
    end

    echo ""

    # Check Downloads directory
    if test -d ~/Downloads
        set -l download_count (find ~/Downloads -type f -mtime -7 2>/dev/null | wc -l)
        if test $download_count -gt 0
            echo "Recent downloads (last 7 days): $download_count files"
        else
            echo "No recent downloads"
        end
    end

    echo ""

    # Check WeeChat logs if they exist
    if test -d ~/.local/share/weechat/logs
        set -l today (date +%Y-%m-%d)
        set -l log_files (find ~/.local/share/weechat/logs -name "*$today*.weechatlog" 2>/dev/null)
        if test -n "$log_files"
            echo "Active IRC logs for today:"
            for log in $log_files
                echo "  • "(basename $log .weechatlog)
            end
        end
    end
end