{{- /* Remove torrent from transmission */ -}}
function tremove --description "Remove torrent by ID"
    if test (count $argv) -eq 0
        echo "Usage: tremove <torrent-id>"
        echo "Use 'tlist' to see torrent IDs"
        return 1
    end

    if not systemctl --user is-active --quiet transmission-daemon
        echo "⚠ Transmission daemon not running"
        return 1
    end

    # Remove the torrent (and delete local data)
    transmission-remote {{ .transmission.rpc_host }}:{{ .transmission.rpc_port }} -n (transmission-auth) -t $argv[1] --remove-and-delete

    if test $status -eq 0
        set_color green
        echo "✓ Torrent $argv[1] removed"
        set_color normal
    else
        set_color red
        echo "✗ Failed to remove torrent $argv[1]"
        set_color normal
        return 1
    end
end