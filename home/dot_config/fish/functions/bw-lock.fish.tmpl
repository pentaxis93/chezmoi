# Ultra-Zen Bitwarden Security
# "The wise seal their treasures when departing"

function bw-lock --description "Lock Bitwarden vault and clear session"
    if test -n "$BW_SESSION"
        bw lock
        set -e BW_SESSION
        echo "{{ template "color-hex.tmpl" .themes.kanagawa.dragon.green }}✓{{ template "color-hex.tmpl" .themes.kanagawa.dragon.white }} Vault locked and session cleared"
    else
        echo "{{ template "color-hex.tmpl" .themes.kanagawa.dragon.bright_black }}○{{ template "color-hex.tmpl" .themes.kanagawa.dragon.white }} Vault already locked"
    end
end