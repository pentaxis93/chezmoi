function qbs --description 'Show qutebrowser session and status information'
    # Check if qutebrowser is installed
    if not command -v qutebrowser &>/dev/null
        echo "qutebrowser is not installed. Run 'chezmoi apply' to install."
        return 1
    end

    set -l config_dir ~/.config/qutebrowser
    set -l data_dir ~/.local/share/qutebrowser
    set -l session_file "$data_dir/sessions/_autosave.yml"

    echo "🌐 Qutebrowser Status"
    echo "===================="
    echo

    # Check if qutebrowser is running
    if pgrep -x qutebrowser >/dev/null
        set_color green
        echo "✓ Qutebrowser is running"
        set_color normal
        echo "  PID: "(pgrep -x qutebrowser | tr '\n' ' ')
    else
        set_color yellow
        echo "○ Qutebrowser is not running"
        set_color normal
    end
    echo

    # Session info
    if test -f "$session_file"
        echo "📚 Auto-saved session:"
        set -l tab_count (grep -c "^- " "$session_file" 2>/dev/null || echo "0")
        echo "  Tabs: $tab_count"
        echo "  Last saved: "(stat -c %y "$session_file" 2>/dev/null | cut -d. -f1)
    else
        echo "📚 No saved session found"
    end
    echo

    # Config location
    echo "📁 Configuration:"
    echo "  Config: $config_dir/config.py"
    echo "  Data: $data_dir"
    echo

    # Quick stats
    if test -d "$data_dir"
        echo "💾 Data:"
        set -l history_size (du -sh "$data_dir/history.sqlite" 2>/dev/null | cut -f1)
        if test -n "$history_size"
            echo "  History: $history_size"
        end
        set -l cache_size (du -sh ~/.cache/qutebrowser 2>/dev/null | cut -f1)
        if test -n "$cache_size"
            echo "  Cache: $cache_size"
        end
    end
end